language: minimal
cache: bundler
services: docker
env:
- DOCKER_COMPOSE_VERSION=1.23.2
before_install:
- docker -v && docker-compose -v
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
- chmod +x ./kubectl
- sudo mv ./kubectl /usr/local/bin/kubectl
install:
- docker-compose -f docker/docker-compose-build.yaml build --parallel
after_success:
  - echo "$dokcer_password" | docker login -u "$dokcer_username" --password-stdin
  - docker push sakshee19/udacity-user-service
deploy:
  provider: script
  script: bash docker push
  on:
    branch: master
  # access_key_id:
  #   secure: "hhBhAxfIWklY/ubf9oZ2WQeuH9EzTIBR4kbNuYbRdpYl6emoj5A6RPBZJqeBfJPYVsF+kOeaPPhGqGK4SxkblP9mmOlJTdPrgiOC8RUx1JvoB4d1uwHt8Cu6JrukBD+hgpQCbN1Pf29a3fSBBBAdBiT6l7VcDmnbYcuTA0ecMULtasg/4GJeOtCOVhAlm6OaZ7GDPxqOC/AcdOAyUumpjc5k6eJRsGYwNHp2Dym/8AH92VkFoVy7BaN+PoBziA+ezkc01zJAHgzT4jN1FSOQ1/cCbCejqSfefkkKktn3k1C3uXfC1XuVplI5VTAfqQGVaOZGkGc0ItXygIO10cirZ892LMSuNGtssISeUyqPOuuINQ+ie/HItYpAMoAfux6N8YkU1RIuBFCq+mkaaoLbSKE9GePrn3YjTwrNbPphqQCQbmuh4ZRUdAeFaD0mw6CuA57CLx9qTtTzeUcWtZqgLyZVTmBOFw1UPVGz4hMrSs+tEEsxjv5fdnAF8LE6xOdN45I9yDWR5uAa8KiXzbMFWLzjdcx4svkCr67MM7ro/qQZT9DlbvNabp2bIBvk1p/IknwcBi9Cy6V9ZNlNptPQXNqfpAKSMVLyX4TvrRIQE0MLGOzDWDZXNO9oMYw17RTawaP6Gcu3K+H0TqfZzxCmOJgn34/dphkut4rkR/rWNoM="
  # secret_access_key:
  #   secure: "5Mfz5JcvAz11a2SdzMo/vwBKRgEQegDY91xtuX6s1JqzwoWgGLhzk3WrDCtK4abjaTxL3Nj7kZUzSE3jA0Q2X3lqEAMA60Bga+S9PRtrTnbZLpIUdjbq8mG/t6nz6kNGSI9jiU77uPR8ijNsTw4C7Lnz9wo8opkth9rUIMUHEkL7D2FhvQQErBdY6CSCeZRQOOAgkJAdYnIqxfnAIf1BGvEdSHmtJxsCU/hDdz5VFBFpKKvhqAl9QrHIXeR/rngWWMoMY4BCDROopxZ52Frgeugg35/kBkLx9lIgJs/3UjryWYF585lC4t258Udeqg3z+2DJwmnYBbroJmfLaM8L9uxAGu9f254wLrL3zZ9iPXgIncfwAgYal1LgcM2oQ9bX4YqSDE8NyT91ck7UbFZcuGPowdd0KXoLO4O/9B0hA32e5BJ9BauELOuzkSETSwlQIL9eBmpm3YuAyrLeG72ekIX/FMx1zV4IRV4BWpNLTlFrpf/bfxlXu0njMHK6wS6zd+EPIJQe1CunxbKxcc5ocKAya5GQNkakG/1JOHfvETxRjxbeXxnfVgHBqQVthsioKK5v9PBMCDgaSxgR/lt34+PXMcspdAYnxTXB+GGdPhJUq9roXdheTSqd3pKeRGBwofQhljbxZq7zjWb6k4BDv9ghmwC29Yh9MF6tdQS5s2U="
  # region: "ap-south-1"
  # app: 
  # bucket_name: "udagram-sak"  
    # provider: heroku
  # api_key:
  #   secure: t66Vjv/AtBwT7b9XAtc1MBxVN17XoDNu6j5ia0fGvOq9N5ePy+2RTGKiijo2aILKL1PHY0RXMJJCimGiz21ND5J0YWQlapklVRQYQx7m2l9Ix/Wep5mWVxGHSgikyqPnPEyZZTLuriKavtlAxTRhHL8B25xHmre0dh974poqgZXQrebA5OjDtJyTt5qZTjFnyyfR66ADTQ2uIqJ/TwxsIYGsPD54eEn53xWqPBnxwhI0g6U9s2qFcYbZb7OhSxxVt8tp3owL2P+NHDI3FhsMMJ2r/hnquPqssp3rUYULwLryjx7rfZjMsRKzifmucrr/5o0rdvUagbp59p96Y9hiTm+wWVOG9NGigmbOaEdP5mA0BKOfqQCn44veA84TehonpdRch642vBE3sY1kr0RWOHXUB+XMysMdGsSgeqK/aaJrLusgNEeKZi9ozICDHGBEo676whO6ycYE8NbsiAjEv8yF5ocHQwfTTh2xJZVbNHvEPcfwHMl4F6YGMjKfx1j+goh3LyJjB6NZiMxhcBQ+uVYXytS7KGVHuEdCFjMqmOs3HMe+BhLDlTLjGmgO+jVoJJDDZpRIJnVFE4Z042XdxycH7MQ3vRXOYtKdrtbHvX/gbuG7U688giJJwwqZ6qkXKitU1ic3aRpTafza81AUFwtnlUABgDNpNgnH15QhMlU=
  # app: udagram-udacity-project
  
  # provider: releases
  # user: "sakshee-19"
  # password:
  #   secure: C0lM+/ezWZHuwjezCH6ll3W1T27Fuc9XshKI3iJFEMV3Xz0YNwClv7YoahEHNsxzmV2z9WV4kAVIpnZEvIf5imEZSVPQPTNGkN6SyewiRcqvSi310J4IO+vYpKtb+tI+bPlfGD/AqVAEDnd25a8GrAF72FINBmsUWZA36vYk97MTy17yRExzmGpMHqNMX8yDBTmuXr6c5aA1Msn03FKinxU3bAr4bRGvUv50Rh+XoIjUc06/cACuD1c/4k547KpWQho14xWy34rtdmz6/GnbJslU3ta18ssmAHGKGH16wUk430viwTk7SmEuYrtmlfJGkAEqtkV1nlD771xBrpF1TWS+3JLJ6jgUqtHx93q6rqol4dSZM7pht7willVcF8Gcq6A03qKOc456UMBBlkPUpr8n+9F+iIqJjlAn36nTac6l7XUtq+fMkS7gNDp2SXln0n0H+j+9DKRqGCbVFDP8tTxItm0sN/WDbR6V5tgtSoIfv/lhcR7hKupxg0qNWT54yI7On6Qhs66JqZKj9ioybaRSZuI2ujyhHBazGpZZPFCxYalZa0NTzqd09yg2nHHGObTkBT6ZLS6aogP+KeZIzHYpnn0GjGkItQs0xS0APNDvjTcY+77vlj7XcvlLaRsm4+65MboaDEUwq1jtstbbuKy4TpU8+9y6o9X2QK5PTCk=
  # file_glob: true
  # file: docker/*

  # skip_cleanup: true
  # on:
    # tags: true
  # skip_cleanup: true
  