language: minimal
services: docker
env:
- DOCKER_COMPOSE_VERSION=1.23.2
before_install:
- docker -v && docker-compose -v
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
- chmod +x ./kubectl
- sudo mv ./kubectl /usr/local/bin/kubectl
install:
- docker-compose -f docker/docker-compose-build.yaml build --parallel
deploy:
  provider: heroku
  api_key:
    secure: nvY14n2n03aGynwM6EqYDrr3nqeSNotSCW502thqIgK0BvSkWKxBFY/KGmKVsTQJkr+cnNk1qzlGSuBRT60HQjbciyXvtNCeonNKxlu4vqducc3Nnb8MGdEcfBknVV7AcZEEI9hJnVbTZ5FQv1A9hTt/Vd8bShagUcMxkoCMXmYntvTt0csZVfq5L4CjbUPNuQdk0BBLcuTiEo5+BENGUTXjR07IMy43lESnvGZLflJkudz9y4aLTRzc+tFe8cv//6vz/RKNRxaAape6VjV06JoGtov4ane8VERW1qXgjE1odQrotm1zrA7IE666u4bXStsA8GvFKWAwvMMKBu4/crVMcY5UE7QWtTRtBhd1N1l0CzbT6iMvqF3YFvMl+NNNGobwv3lEfJp9a1Vcmm8U31ogasjfw6UgHEaKtE7oxr5F1qsDYF9guyYRyVXtmdSaRRidZzkt+wMR8T/isj/QzDyyeAG+w5lkpuwrkHEFggXw6jZW1i1bAd1sorZLc9Jj9TisFV3hMYuCEfug15XZSyOL1uezjlq3ZEuSQp4stXRUkgUcLdOtyWyaxZTfXG5uSwTr+Cuz+/TmSADfokKvIiqmfFYQdV1bVZF65oRAc8q80hwkyMTTA1W1g7/DYftKLNkQmwMxisSYvddYK13ozlWZIycLK9brXq7pycpvyJw=
  app: udagram-udacity-project